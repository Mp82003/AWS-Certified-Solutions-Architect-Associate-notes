Rule 3:
  On-Premise â†VPNâ†’ VPC-A â†Peeringâ†’ VPC-B
  On-premise VPC-B ko access nahi kar sakta through VPC-A
  Each VPC ko separate VPN chahiye!

Step 1: VPC-A se peering request bhejo VPC-B ko
Step 2: VPC-B request accept kare
Step 3: Route Tables update karo (dono sides)
Step 4: Security Groups update karo

Route Table Example (VPC-A):
Destination        Target
10.0.0.0/16    â†’  local
172.16.0.0/16  â†’  pcx-xxxxx (peering connection)

Route Table Example (VPC-B):
Destination        Target
172.16.0.0/16  â†’  local
10.0.0.0/16    â†’  pcx-xxxxx (peering connection)


1Q: Company ko do VPCs ke beech private communication 
chahiye without using internet. Kya use karein?
A) VPN Connection
B) Direct Connect
C) VPC Peering âœ…
D) Internet Gateway
Answer: C
Kyun?
- Private communication = VPC Peering âœ…
- Internet nahi chahiye âœ…
- Cost-effective âœ…
- Fast setup âœ…


2Q: Company has 3 VPCs:
   - VPC-A (Production): 10.0.0.0/16
   - VPC-B (Shared Services): 172.16.0.0/16  
   - VPC-C (Development): 192.168.0.0/16
Current Peering:
   - VPC-A â†â†’ VPC-B (Peering exists)
   - VPC-B â†â†’ VPC-C (Peering exists)
VPC-A se VPC-C ko access karna hai. Kya karna hoga?
A) No action needed, VPC-B will route traffic
B) Create peering between VPC-A and VPC-C âœ…
C) Add routes in VPC-B for transitive routing
D) Use NAT Gateway in VPC-B
Answer: B
Explanation:
        VPC-B (Shared)
         / \
        /   \
     Peer  Peer
      /       \
     /         \
  VPC-A ----X--- VPC-C
           NO TRANSITIVE!
Solution: Direct peering A-C âœ…
Ye exam mein 100% aata hai! Yaad rakho:
"Transitive peering NOT supported" âš ï¸


3Q: Company ko VPC peering setup karni hai between:
   - VPC-A: 10.0.0.0/16
   - VPC-B: 10.0.5.0/24
Peering successfully setup hoga?
A) Yes, VPC peering supports overlapping CIDRs
B) No, CIDR blocks overlap âœ…
C) Yes, but routing will be complex
D) Yes, if you use NAT Gateway
Answer: B
CIDR Check:
VPC-A: 10.0.0.0/16 
       â†“
       Covers: 10.0.0.0 to 10.0.255.255  
VPC-B: 10.0.5.0/24
       â†“
       Covers: 10.0.5.0 to 10.0.5.255 (INSIDE VPC-A range!)

Overlap hai! Peering NAHI ban sakta âŒ
Solution: VPC-B ka CIDR change karo (e.g., 172.16.0.0/16)


3Q: Company has VPCs in multiple regions:
   - VPC-Mumbai: 10.0.0.0/16 (ap-south-1)
   - VPC-Singapore: 172.16.0.0/16 (ap-southeast-1)
   - VPC-Virginia: 192.168.0.0/16 (us-east-1)
All VPCs ko connect karna hai with private connectivity. 
Most cost-effective solution kya hai?
A) VPN Connection between all regions
B) Direct Connect at each location
C) VPC Peering between all VPCs âœ…
D) Transit Gateway with VPN
Answer: C
Architecture:
Mumbai â†â”€Peeringâ”€â†’ Singapore
  â†“
Peering
  â†“
Virginia â†â”€Peeringâ”€â†’ Singapore
Total Peerings Needed: 3
(Mumbai-Singapore, Mumbai-Virginia, Singapore-Virginia)
Cost:
- VPC Peering: Data transfer charges only
- VPN: $0.05/hour per connection + data
- Direct Connect: $$$$ expensive
- Transit Gateway: $0.05/hour + dat
VPC Peering = Most cost-effective âœ…



4Q: VPC-A aur VPC-B mein peering hai. VPC-A ka EC2 instance 
(10.0.1.50) VPC-B ke EC2 instance (172.16.1.100) ko SSH 
karna chahta hai. Peering aur routes configured hain. 
Connection fail ho raha hai. Kya issue ho sakta hai? 
(Choose 2)
A) VPC-B ke EC2 ka Security Group allow nahi kar raha âœ…
B) Peering connection inactive hai
C) VPC-A ke EC2 ka Security Group outbound block kar 
   raha hai âœ…
D) CIDR blocks overlap kar rahe hain
Answer: A & C
Security Group Check:
VPC-A EC2 Outbound:
â”œâ”€ Allow: 0.0.0.0/0 on all ports? âœ…
â””â”€ Block: Specific IPs? âŒ Check this!
VPC-B EC2 Inbound:
â”œâ”€ Allow: SSH (port 22) from 10.0.1.50? âœ…
â””â”€ Or allow entire VPC-A CIDR (10.0.0.0/16)? âœ…
Common Mistake:
Security Groups mein sirf apne VPC ka CIDR add karna,
Peered VPC ka CIDR bhool jaana! âš ï¸


5Q: VPC-A aur VPC-B mein peering hai. VPC-A ka EC2 instance 
(10.0.1.50) VPC-B ke EC2 instance (172.16.1.100) ko SSH 
karna chahta hai. Peering aur routes configured hain. 
Connection fail ho raha hai. Kya issue ho sakta hai? 
(Choose 2)
A) VPC-B ke EC2 ka Security Group allow nahi kar raha âœ…
B) Peering connection inactive hai
C) VPC-A ke EC2 ka Security Group outbound block kar 
   raha hai âœ…
D) CIDR blocks overlap kar rahe hain
Answer: A & C
Security Group Check:
VPC-A EC2 Outbound:
â”œâ”€ Allow: 0.0.0.0/0 on all ports? âœ…
â””â”€ Block: Specific IPs? âŒ Check this!
VPC-B EC2 Inbound:
â”œâ”€ Allow: SSH (port 22) from 10.0.1.50? âœ…
â””â”€ Or allow entire VPC-A CIDR (10.0.0.0/16)? âœ…
Common Mistake:
Security Groups mein sirf apne VPC ka CIDR add karna,
Peered VPC ka CIDR bhool jaana! âš ï¸


6Q: Large enterprise ko multiple VPCs connect karni hain:
   - 1 Shared Services VPC (DNS, AD, monitoring)
   - 5 Application VPCs (different teams)
   - Requirements:
     * All app VPCs must access Shared Services
     * App VPCs should NOT communicate with each other
     * Scalable solution
     * Centralized management
Select 2 best solutions:
A) VPC Peering mesh between all VPCs âŒ
B) AWS Transit Gateway with route table isolation âœ…
C) Shared Services VPC with 5 individual peerings to 
   app VPCs, no peering between app VPCs âœ…
D) Single large VPC with multiple subnets âŒ
E) VPN connections between all VPCs âŒ
Answer: B & C (Both correct based on scale)
Solution B (Transit Gateway): BEST for scale
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   Transit    â”‚
            â”‚   Gateway    â”‚
            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“          â†“          â†“
    App VPC1   Shared    App VPC2
                Services

Route Tables:
- App VPCs: Only route to Shared Services âœ…
- Isolated from each other âœ…

Solution C (Peering): Good for small scale
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   Shared    â”‚
         â”‚  Services   â”‚
         â””â”€â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”€â”˜
            â”‚ â”‚ â”‚ â”‚ â”‚
     Peering connections (5)
            â”‚ â”‚ â”‚ â”‚ â”‚
      VPC1 VPC2 VPC3 VPC4 VPC5
      (No peering between apps) âœ…
Comparison:
Transit Gateway:
â”œâ”€ Better for 5+ VPCs âœ…
â”œâ”€ Centralized routing âœ…
â”œâ”€ Easy to scale âœ…
â””â”€ Cost: $0.05/hour + data
VPC Peering:
â”œâ”€ Good for < 5 VPCs âœ…
â”œâ”€ Manual route management âŒ
â”œâ”€ Mesh gets complex âŒ
â””â”€ Cost: Only data transfer âœ…


7Q: Company has on-premise datacenter connected to VPC-A via 
Direct Connect. VPC-A has peering with VPC-B. On-premise 
servers ko VPC-B ke resources access karne hain. Kya 
possible hai?
A) Yes, traffic will route through VPC-A automatically
B) No, edge-to-edge routing not supported âœ…
C) Yes, if you enable transitive routing
D) Yes, but only with VPN
Answer: B
Architecture:
On-Prem â†Direct Connectâ†’ VPC-A â†Peeringâ†’ VPC-B
                            â†“
                    No edge-to-edge! âŒ
Why?
VPC Peering limitations:
â”œâ”€ No transitive routing âŒ
â”œâ”€ No edge-to-edge routing âŒ
â””â”€ Each VPC needs its own connection
Solution Options:
1. VPC-B ko bhi Direct Connect/VPN se connect karo
2. Or use AWS Transit Gateway âœ… (allows edge-to-edge)
Transit Gateway Example:
On-Prem â†Direct Connectâ†’ Transit GW â†â†’ VPC-A
                            â†•
                          VPC-B
Now on-prem can reach both VPCs! âœ…


9Q: Company has 2 VPCs in same region communicating 
frequently (5TB data/month). Currently using Internet 
Gateway with public IPs. Management wants to reduce costs 
aur security improve karna chahti hai. Best solution?
A) Keep current architecture
B) Setup VPC Peering âœ…
C) Use NAT Gateway
D) Use VPN connection
Answer: B
Cost Comparison (Mumbai region):
Current (via Internet):
â”œâ”€ NAT Gateway: $32.85/month
â”œâ”€ Data out: 5TB Ã— $0.109/GB = $559/month
â””â”€ Total: ~$592/month ğŸ’¸

With VPC Peering:
â”œâ”€ Peering hourly: FREE
â”œâ”€ Data transfer (same region): $0.01/GB
â”œâ”€ 5TB Ã— $0.01/GB = $51.2/month
â””â”€ Total: ~$51/month âœ… (90% saving!)

Benefits:
â”œâ”€ Cost saving: 90% âœ…
â”œâ”€ Better security: Private network âœ…
â”œâ”€ Lower latency âœ…
â””â”€ Higher bandwidth âœ…



9Q: VPC-A (10.0.0.0/16) aur VPC-B (172.16.0.0/16) mein 
peering configured hai. VPC-A ke route table mein kya 
entry add karni hogi taaki VPC-B ke resources access 
ho sakein?
A) 0.0.0.0/0 â†’ Peering Connection
B) 172.16.0.0/16 â†’ Peering Connection âœ…
C) 172.16.0.0/16 â†’ Internet Gateway
D) Routes automatically propagate
Answer: B
Manual Configuration Required:
VPC-A Route Table:
Destination        Target              Purpose
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
10.0.0.0/16    â†’ local              â†’ Local VPC
172.16.0.0/16  â†’ pcx-12345 (peer)  â†’ To VPC-B âœ…

VPC-B Route Table:
Destination        Target              Purpose
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
172.16.0.0/16  â†’ local              â†’ Local VPC
10.0.0.0/16    â†’ pcx-12345 (peer)  â†’ To VPC-A âœ…

Important:
- Routes automatic NAHI hote! âš ï¸
- Manually add karna padta hai
- Both sides mein add karo âœ…



10Q: Company has VPC Peering between VPC-A and VPC-B. 
VPC-A ke EC2 instances VPC-B ke resources ko private 
DNS names se access karna chahte hain (e.g., 
db-server.vpc-b.internal). Kya configuration chahiye? 
(Select 2)
A) Enable DNS Resolution for the peering connection âœ…
B) Enable DNS Hostnames in both VPCs âœ…
C) Use Route53 private hosted zone
D) Setup VPN between VPCs
E) Use public DNS names

Answer: A & B
Configuration Steps:
1. VPC Settings:
   VPC-A Settings:
   â”œâ”€ Enable DNS Resolution: YES âœ…
   â”œâ”€ Enable DNS Hostnames: YES âœ…
   
   VPC-B Settings:
   â”œâ”€ Enable DNS Resolution: YES âœ…
   â”œâ”€ Enable DNS Hostnames: YES âœ…

2. Peering Connection Settings:
   Edit Peering Connection:
   â”œâ”€ Requester DNS Resolution: Enable âœ…
   â””â”€ Accepter DNS Resolution: Enable âœ…
Now:
VPC-A EC2 can resolve VPC-B private DNS âœ…
Example: ip-172-16-1-100.vpc-b.internal â†’ 172.16.1.100

Without this:
- Only IP addresses work âŒ
- DNS names won't resolve âŒ


Keyword in Question          â†’ Answer Likely Involves
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"private communication"      â†’ VPC Peering
"between VPCs"              â†’ VPC Peering
"no internet"               â†’ VPC Peering
"cost-effective VPC connect" â†’ VPC Peering
"transitive"                â†’ NOT possible, direct peer
"overlapping CIDR"          â†’ Peering NOT possible
"cross-region"              â†’ VPC Peering supported âœ…
"cross-account"             â†’ VPC Peering supported âœ…
"edge-to-edge"              â†’ NOT supported
"many VPCs" (>5)            â†’ Consider Transit Gateway
"centralized routing"       â†’ Transit Gateway
"mesh complexity"           â†’ Transit Gateway



âŒ "VPC Peering supports transitive routing"
   â†’ NO! Direct peering required
âŒ "Routes automatically propagate"
   â†’ NO! Manual route table updates needed
âŒ "Works with overlapping CIDRs"
   â†’ NO! CIDRs must not overlap
âŒ "On-premise can access through peered VPC"
   â†’ NO! Edge-to-edge not supported
âŒ "Peering has bandwidth limits"
   â†’ NO! No bandwidth bottleneck
âŒ "Single peering connects multiple VPCs"
   â†’ NO! Each pair needs separate peering


Question: Connect VPCs?
â”‚
â”œâ”€ Same/Different Region? Both OK âœ…
â”‚
â”œâ”€ Same/Different Account? Both OK âœ…
â”‚
â”œâ”€ CIDRs Overlap?
â”‚   â”œâ”€ YES â†’ Peering NOT possible âŒ
â”‚   â””â”€ NO â†’ Continue â†“
â”‚
â”œâ”€ Transitive routing needed?
â”‚   â”œâ”€ YES â†’ Use Transit Gateway
â”‚   â””â”€ NO â†’ VPC Peering OK âœ…
â”‚
â”œâ”€ More than 5 VPCs?
â”‚   â”œâ”€ YES â†’ Consider Transit Gateway
â”‚   â””â”€ NO â†’ VPC Peering sufficient âœ…
â”‚
â””â”€ Edge-to-edge routing needed?
    â”œâ”€ YES â†’ Use Transit Gateway
    â””â”€ NO â†’ VPC Peering OK âœ…


Feature           | VPC Peering    | Transit Gateway
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€|â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€|â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Max VPCs          | Point-to-point | 5,000+
Transitive        | NO âŒ          | YES âœ…
Edge-to-edge      | NO âŒ          | YES âœ…
Centralized Mgmt  | NO âŒ          | YES âœ…
Cost (small)      | Lower âœ…       | Higher âŒ
Cost (large scale)| Complex        | Better âœ…
Setup complexity  | Simple âœ…      | Moderate
Cross-region      | YES âœ…         | YES âœ…
Same-region cost  | $0.01/GB       | $0.02/GB

When to use what:
2-3 VPCs          â†’ VPC Peering âœ…
5+ VPCs           â†’ Transit Gateway âœ…
Hub-spoke model   â†’ Transit Gateway âœ…
Simple connection â†’ VPC Peering âœ…


VPC Peering - 5 Golden Rules:
1. NO Transitive Peering âš ï¸
   A-B-C: A can't reach C through B
2. NO Overlapping CIDRs âš ï¸
   CIDRs must be unique
3. Manual Route Updates Required âš ï¸
   Routes don't auto-propagate
4. NO Edge-to-Edge Routing âš ï¸
   On-prem can't reach through peered VPC
5. Works Cross-Region & Cross-Account âœ…
   Geography doesn't matter!


